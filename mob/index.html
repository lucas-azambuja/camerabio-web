<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Acesso Mobile Frame</title>

  <script defer src="js/FileSaver.js"></script>
  <script src="js/mobile-detector.js"></script>
  <script src="js/platform.js"></script>
  <script defer src="js/face-api.min.js"></script>
  <script defer src="js/frame.js"></script>

  <link rel="stylesheet" href="css/frame.css" />
  <link rel="stylesheet" href="css/spin.css" />

</head>

<body>

  <img id="icTake" class="take" style="opacity: 0;" src="img/icon_take_pic.png" onclick="capture()" />
  <div id="boxCamera" class="boxCamera max-width max-height">

    <video id="video" class="video max-width" autoplay muted playsinline></video>

    <div class="new-borda border-left"></div>
    <div class="new-borda border-right"></div>
    <div class="new-borda border-top"></div>
    <div class="new-borda border-bottom"></div>

    <div id="lbStatus" class="status" style="text-align: center;  min-width: 100px;"></div>
    <div id="lbIlu" class="status" style="text-align: center; width: 100vw; color: greenyellow;"></div>
    <div id="lbCountdown" class="countdown"></div>
    <img id="maskDefault" class="maskdefault" src="img/land_frame.png" />

  </div>

  <div class="spinback" id="spin">
    <div class="sk-folding-cube">
      <div class="sk-cube1 sk-cube"></div>
      <div class="sk-cube2 sk-cube"></div>
      <div class="sk-cube4 sk-cube"></div>
      <div class="sk-cube3 sk-cube"></div>
    </div>
  </div>

</body>

<script>
  function ready() {
    // quando esta função correr o DOM está acessível
    
    onSuccessCaptureAtFrame = onSuccessCapture;

    function onSuccessCapture(base64) {
      console.log(base64);
    }

    function onFailedCapture(err) {

    }
  
  }

  function completed() {
    document.removeEventListener("DOMContentLoaded", completed);
    window.removeEventListener("load", completed);
    ready();
  }

  if (document.readyState === "complete" ||
    (document.readyState !== "loading")) {
    ready(); // está pronto!
  } else { // ainda não está pronto...
    document.addEventListener("DOMContentLoaded", completed);
    window.addEventListener("load", completed);
  }
</script>

</html>